name: 'Run the solidity unit tests in groups'
description: 'Run the solidity unit tests in groups'
inputs:
  test-group:  # id of input
    description: 'Range of the starting letter of the folder contains the tests that will be run'
    required: true
runs:
  using: "composite"

  steps:
  - shell: bash
    working-directory: ./bridge
    run: npm run clean && npm run compile
  - shell: bash
    run: echo ${{ inputs.test-group }}
  - shell: bash
    working-directory: ./bridge
    run: ls ./test
  - shell: bash
    working-directory: ./bridge
    run: ls ./test | grep "^[${{ inputs.test-group }}]"
  - shell: bash
    working-directory: ./bridge
    run: ls ./test | grep "^[${{ inputs.test-group }}]" | xargs -n 1 -I {} echo ./test/{} | tr -s '\n' ' '
  - shell: bash
    working-directory: ./bridge
    run: ls ./test | grep "^[${{ inputs.test-group }}]" | xargs -n 1 -I {} echo ./test/{} | tr -s '\n' ' ' | xargs -n 1 -I {} find {} -type f -iname '*.ts'